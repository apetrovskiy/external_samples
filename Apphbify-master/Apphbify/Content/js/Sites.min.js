(function(a){var c,b;b=a("#enableEmailModal").modal({show:false});a("#sitesTable").on("click",".enable-email-notification",function(f){var d=a(f.currentTarget);c=a(d.parents("tr").get(0)).data("slug");a("#emailAddressError").hide();b.modal("show")});a("#confirmEmailButton").click(function(){var e=a("#emailAddress").val(),d=a("#emailStatus");if(!e||e.length===0){a("#emailAddressError").show();return}a("#emailAddressError").hide();d.html("Enabling...");a.ajax({type:"PUT",url:"/Sites/"+c+"/Notifications/Email",data:{email:e},success:function(f){if(f&&f.ok){b.modal("hide");d.html("")}else{d.html('<span class="label label-important">'+f.message||"An error occurred.</span>")}},error:function(){d.html('<span class="label label-important">Unable to complete at this time.</span>')}})})}(window.jQuery));